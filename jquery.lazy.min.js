/*! jQuery Lazy 0.6.0.rc7 - MIT & GPL-2.0 license - Copyright 2012-2015 Daniel 'Eisbehr' Kern */
!function(t,e,r,n){"use strict";function a(r,n,a,o){function i(){p=e.devicePixelRatio>1,l(a),n("delay")>=0&&setTimeout(function(){u(!0)},n("delay")),(n("delay")<0||n("combined"))&&(o.e=m(n("throttle"),function(t){"resize"===t.type&&(b=v=-1),u(t.all)}),o.a=function(t){l(t),a.push.apply(a,t)},o.g=function(){return a},u(),t(n("appendScroll")).on("scroll."+r.name+" resize."+r.name,o.e))}function l(e){if(e=t(e).filter(function(){return!t(this).data(n("handledName"))&&(t(this).attr(n("attribute"))||t(this).attr(n("loaderAttribute")))}).data("plugin_"+r.name,r),n("onError")&&e.on("error."+r.name,function(){h("onError",t(this))}),n("defaultImage")||n("placeholder"))for(var a=0;a<e.length;a++){var o=t(e[a]),i=e[a].tagName.toLowerCase(),l="background-image";"img"==i&&n("defaultImage")&&!o.attr("src")?o.attr("src",n("defaultImage")):"img"==i||!n("placeholder")||o.css(l)&&"none"!=o.css(l)||o.css(l,"url("+n("placeholder")+")")}}function u(e){if(!a.length)return void(n("autoDestroy")&&r.destroy());for(var o=!1,i=0;i<a.length;i++)(function(r){if(d(r)||e){var a,i=t(r),l=r.tagName.toLowerCase(),u=i.attr(n("attribute"));i.data(n("handledName"))||n("visibleOnly")&&!i.is(":visible")||!(u&&("img"==l&&u!=i.attr("src")||"img"!=l&&u!=i.css("background-image"))||(a=i.attr(n("loaderAttribute"))))||(o=!0,i.data(n("handledName"),!0),c(i,l,a))}})(a[i]);o&&(a=t(a).filter(function(){return!t(this).data(n("handledName"))}))}function c(e,r,a){++g;var o=function(){h("onError",e),A()};if(h("beforeLoad",e),a)e.off("error").one("error",o),e.one("load",function(){n("removeAttribute")&&e.removeAttr(n("loaderAttribute")),h("afterLoad",e),e.off("error"),A()}),h(a,e,function(t){t?e.load():e.error()})||e.error();else{var i=t(new Image);i.error(o),i.one("load",function(){e.hide(),"img"==r?e.attr("src",i.attr("src")):e.css("background-image","url("+i.attr("src")+")"),e[n("effect")](n("effectTime")),n("removeAttribute")&&e.removeAttr(n("attribute")+" "+n("retinaAttribute")),h("afterLoad",e),i.off("error").remove(),A()}),i.attr("src",e.attr(n(p&&e.attr(n("retinaAttribute"))?"retinaAttribute":"attribute"))),i.complete&&i.load()}}function d(t){var e=t.getBoundingClientRect(),r=n("scrollDirection"),a=n("threshold"),o=s()+a>e.top&&-a<e.bottom,i=f()+a>e.left&&-a<e.right;return"vertical"==r?o:"horizontal"==r?i:o&&i}function f(){return b>=0?b:b=t(e).width()}function s(){return v>=0?v:v=t(e).height()}function m(t,e){var a,o=0;return function(i,l){function u(){o=+new Date,e.call(r,i)}var c=+new Date-o;a&&clearTimeout(a),c>t||!n("enableThrottle")||l?u():a=setTimeout(u,t-c)}}function A(){--g,a.size()||g||h("onFinishedAll",null)}function h(e,a,o){return(e=n(e))?(o=t(arguments).slice(1),e.apply(r,o),!0):!1}var g=0,b=-1,v=-1,p=!1;!function(){"event"==n("bind")?i():t(e).load(i)}()}function o(e,r){var o=this,i=t.extend({},o.configuration,r),l={};return o.config=function(t,e){return e===n?i[t]:(i[t]=e,o)},o.addItems=function(e){return l.a&&l.a("string"===t.type(e)?t(e):e),o},o.getItems=function(){return l.g?l.g():{}},o.update=function(t){return l.e&&l.e({},!t),o},o.loadAll=function(){return l.e&&l.e({all:!0},!0),o},o.destroy=function(){t(o.config("appendScroll")).off("."+o.name,l.e),l={}},a(o,o.config,e,l),o.config("chainable")?e:o}t.fn.Lazy=t.fn.lazy=function(t){return new o(this,t)},t.extend(o.prototype,{name:"lazy",configuration:{chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:e,scrollDirection:"both",defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",retinaAttribute:"data-retina",loaderAttribute:"data-loader",removeAttribute:!0,handledName:"handled",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:null,afterLoad:null,onError:null,onFinishedAll:null}})}(jQuery,window,document);